KA+A Front-End Development Standard
=================

Internal Note: Compiling rules and ideas in the readme for now, to make sure we're all on the same page.

Documented here are the standards for front-end development both defined and used by [KA+A](http://kaplusa.com). Before reading this, you should be familiar with proper HTML syntax, Responsive Web Design, media queries, and SASS (specifically the [SCSS](http://sass-lang.com/) syntax).

## General Rules

### Indentation

Unless the environment requires otherwise (ruby, for example), use 4 space soft tabs for indentation of all code.

### Double Quotes vs. Single Quotes

Use double quotes (") rather than single quotes (') for anything that needs to be wrapped in quotes (HTML attributes, for example).

### Hyphens vs. Underscores

For naming files, classes or IDs, use hyphens (-) rather than underscores (_). 

There are two exceptions to this rule: 
1. You should always use an underscore to prefix a partial (for example: _header.html, _header.php, or _header.scss)
2. Since ACF variables use underscores when they're generated by default, always use underscores in ACF variables to maintain consistency.

### Everything Lowercase

All HTML, CSS, Javascript and file names should be written entirely in lowercase. 

## CSS Rules

Place a space after the ":" in property declarations.
Place a space before the "{" in rule declarations.
Use // for comments, not /* */.

Do this:

    // Comment
    body {
        background: #fff;
    }
    
Not this:

    /* Comment */
    body{
        background:#fff;
    }

### SASS (SCSS)

Use the SCSS syntax of SASS and separate your stylesheets by the sections or modules they are targeting. A few stylesheets should always be present:

* mixins.scss - declare the primary color palette and font stack variables, as well as mixins for media queries and any other styles that are used across multiple types of elements.
* global.scss - for styling elements without classes and elements used in all areas of the site/app that don't belong in their own stylesheet (H1 through H4, .container, etc...)
* print.scss - for print styles

### Compiling

Depending on the project, we will compile SASS in one of three ways:

1. **Hammer** - for static HTML websites or prototypes
2. **CodeKit** - for working in local PHP environments (for example, developing a WordPress theme)
3. **Local App Environment** - when SASS is installed in an app we're working on, it will compile with the rest of the app.

### Bourbon

We use [Bourbon](http://bourbon.io/) as our mixin library of choice. Bourbon is included in Hammer and CodeKit by default, and is easy to install in a Rails app using the instructions on the [Bourbon website](http://bourbon.io/). For information on the mixins made available by Bourbon, reference the [documentation](http://bourbon.io/docs/).

### Nesting

Nest your SASS. 

Do this:

	body {
		header {
		}
	}

Not this:

	body header {
	}

### Multiple Selectors

For multiple selectors, this:

	ul,
	ol {
	}

Not this:

	ul, ol {
	}
	
### Spacing

Add a line break before starting a new declaration with properties. 

This:

	ul {
		property:;
		
		li {
			property:;
		}
	}
	
Not this:

	ul {
		property:;
		li {
			property:;
		}
	}
	
This is fine:

    ul {
        li {
            property:;
        }
    }
    
### Media Queries

Declare media queries as mixins in mixins.scss. Go mobile first. (for example: base styles, 400up, 600up, 1000up...)

Media queries should be nested and organized with the elements they are affecting. Read [Chris Coiyer's article](http://css-tricks.com/conditional-media-query-mixins/) for details.

### Sizing Units

Use percentages for widths, unless a special case dictates otherwise.

Use EMs for font-size, line-height, height, and any height-based style. Keep the base font size at 16px so we can use the Bourbon mixin, em().

### Shorthand

Use CSS shorthand whenever possible.

Do this:

    p {
        margin: 1em 0 2em;
        font: bold 1.5em/1.5 Helvetica;
    }

Not this:

    p {
        margin-top: 1em;
        margin-right: 0;
        margin-bottom: 2em;
        margin-left: 0;
        font-weight: bold; 
        font-size: 1.5em;
        line-height: 1.5; 
        font-family: Helvetica; 
        font-variant: normal;
        font-style: normal;
    }

### Property Order

Group CSS properties in the following order:

	selector {
		
		// Content
		content:;
		
		// Positioning
		position:;
		top:;
		right:;
		bottom:;
		left:;
		display:;
		float:;
		clear:;
		
		// Sizing
		width:;
		height:;
		overflow:;
		padding:;
		margin:;
		
		// Font
		font:;
		line-height:;
		color:;
		text-shadow:;
		
		// Background and borders
		background:;
		border:;
		border-radius:;
		box-shadow:;
		
		// Transitions
		transitions:;

	}

Mixins should be included in the appropriate section. For example, the bourbon mixin "@include linear-gradient()" would be included in the background section, since it outputs the "background-image" property. (Note: Comments are for purposes of the style guide only. No need to comment each group of properties in your actual code.)

## HTML Rules

### HTML5 Elements

Only use HTML5 elements when they make sense semantically. For example, the section element should only be used when its contents are thematically related, would be grouped together in the document outline, and have a natural heading with supporting content. If you're using a section element for style or layout purposes, use a div instead. In general, if you're in doubt about the semantic accuracy of the element you're using, just use a div. You can also refer to [this handy flowchart](http://html5doctor.com/downloads/h5d-sectioning-flowchart.png).

### Classes and IDs

Classes are for styling elements. IDs are for targeting elements with javascript.

For naming, keep class and ID names as short as possible, without sacrificing clarity. Don't name classes and IDs based on presentation or style, but based on their purpose and content.

Good class names:

    .subnav
    .hero
    .btn-primary

Bad class names:

    .leftnav
    .dark-background
    .red-button

### Accessibility

#### Aria Roles

Include aria roles for accessibility. [See here](http://rawgit.com/w3c/aria-in-html/master/index.html) for more information on when/where/how to use.

#### Alt Tags

Include alt tags for all images with descriptive content. If no benefit can be provided through an alt tag (if the image is purely ornamental), then provide an empty alt tag:

    alt=""

### Optional Closing Tags

Even though omitting some closing tags is syntactically correct, include them anyways for clarity.

Do this:

	<li>List Item</li>

Not this:

	<li>List Item
	
On the other hand, do not close self-closing elements, such as the image or horizontal rule tags.

Do this:

    <hr>

Not this:

    <hr />

### Type Attributes

Omit optional type attributes from stylesheet and javascript references.

Do this:

    <link rel="stylesheet" src="style.css">
    <script src="script.js"></script>
    
Not this:
    
    <link rel="stylesheet" src="style.css" type="text/css">
    <script src="script.js" type="text/javascript"></script>
    
### Icon Fonts

When using SymbolSet, use the descriptive class name (don't rely on keywords) for better browser support.

### Responsive Images

#### Vector

Use inline SVG for vector images. Provide a fallback for IE8. To keep code maintainable, use PHP or Hammer includes rather than pasting the entire inline SVG in the HTML.

When using inline SVG, include title, description, role and aria-labeledby for optimizal accessibility. Further detail available [here](http://www.sitepoint.com/tips-accessible-svg/).

#### Raster

Use the picture element to provide the optimal image sizes and crops for different breakpoints and resolutions. For a fallback, use picturefill.js

### Attribute Order

For consistency, HTML attributes should be written in the following order:

* class
* id, name
* data-*
* src, for, type, href
* title, alt
* aria-*, role

For example:

    <nav class="main-nav" role="navigation"
        <a class="btn" id="menu-toggle" data-toggle="dropdown" href="#" role="button">
        <input id="first-name" name="first-name" type="text" />
    </nav>
